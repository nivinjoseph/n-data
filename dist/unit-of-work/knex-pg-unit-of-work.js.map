{"version":3,"file":"knex-pg-unit-of-work.js","sourceRoot":"","sources":["../../src/unit-of-work/knex-pg-unit-of-work.ts"],"names":[],"mappings":"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"}